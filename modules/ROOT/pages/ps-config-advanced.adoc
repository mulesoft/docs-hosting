= Configuring Advanced Private Space Settings

include::partial$feature-availability.adoc[tag=featureUnavailable]

*This topic is updated to the Design Spec dated 02-Mar-22*

*Last update* 03-Mar-22


Use options on the *Advanced* tab to:

* Configure how the private space handles HTTP requests.
* Specify the read-response timeout.
+
This value is the amount of time CloudHub 2.0 waits for a response from the Mule application.
If no data is sent or received in the specified time, CloudHub 2.0 closes the client and private space connections.
* Configure ingress load balancer logs levels and download logs.


== Configure HTTP Requests and Read-Response Timeout

// SELECT PRIVATE SPACE SHARED
include::partial$select-private-space.adoc[tag=selectPrivateSpace]
include::partial$select-private-space.adoc[tag=clickPrivateSpaceName]
include::partial$select-private-space.adoc[tag=clickAdvanced]
. Configure how the private accepts inbound traffic:
+
--
CloudHub 2.0 doesn't allow you to accept only insecure HTTP requests.

From the *HTTP Requests* list, select one of the following:

** *Redirect to HTTPS*
+
Redirects HTTP requests to the same URL using the HTTPS protocol.
** *Drop HTTP requests*
+
Silently drops HTTP requests.
** *Also accept HTTP requests*
+
Accepts the inbound request on the default SSL endpoint using the HTTP protocol.
--
. Specify the read response timeout value.
+
The default timeout is 300 seconds.
+
. Click *Save Changes* or *Discard Changes*.

[[configure-ingress-load-balancer-log-levels]]
== Configure Default Ingress Load Balancer Log Levels 

CloudHub 2.0 enables you to specify the default severity level of messages that are written to the log file for all apps deployed to the private space.

[IMPORTANT]
More verbose log levels might affect performance.

// SELECT PRIVATE SPACE SHARED
include::partial$select-private-space.adoc[tag=selectPrivateSpace]
include::partial$select-private-space.adoc[tag=clickPrivateSpaceName]
include::partial$select-private-space.adoc[tag=clickAdvanced]
. Select the default <<ingress-load-balancer-log-levels,log level>> from the drop-down list.
. Click *Save Changes* or *Discard Changes*.

[[configure-custom-ingress-load-balancer-log-levels]]
== Configure Custom Ingress Load Balancer Log Levels 

CloudHub 2.0 enables you to specify the default severity level of messages that are written to the log file for specific IP addresses, for example, for troubleshooting.

[IMPORTANT]
More verbose log levels might affect performance.

// SELECT PRIVATE SPACE SHARED
include::partial$select-private-space.adoc[tag=selectPrivateSpace]
include::partial$select-private-space.adoc[tag=clickPrivateSpaceName]
include::partial$select-private-space.adoc[tag=clickAdvanced]
. Configure custom log levels.
+
.. Enter the IP address and select the <<ingress-load-balancer-log-levels,log level>> from the drop-down list.
.. Click *Add IP Address* to enter additional custom log levels.
.. To remove a custom log level, click the trash can icon (*Delete*) for the entry.
// +
// image::fw-rule-delete.png[Delete icon on the Firewall Rules tab]
. Click *Save Changes* or *Discard Changes*.


[[ingress-load-balancer-log-levels]]
== Ingress Load Balancer Log Levels

[%header,cols="20a,60a"]
.Ingress Load Balancer Log Levels
|===
| Level 
| Description

| All Priorities
| All messages

| ERROR (Recommended)
| Only error messages, such when an exception occurs

| FATAL
| Only fatal messages when an application fails

| INFO
| Informative messages

| SYSTEM
| Messages about application and worker startup

| CONSOLE
| Messages about console events, such as setting the object store

| WARN
| Warning messages

| DEBUG
| Debugging messages
|===


[[download-ingress-load-balancer-logs]]
=== Download Ingress Load Balancer Logs

To download ingress load balancer logs:

// SELECT PRIVATE SPACE SHARED
include::partial$select-private-space.adoc[tag=selectPrivateSpace]
include::partial$select-private-space.adoc[tag=clickPrivateSpaceName]
include::partial$select-private-space.adoc[tag=clickAdvanced]
. Click *Download Logs*.


////
You can use Anypoint Runtime Manager to change the application log level by configuring the following property:
```
logging.level.<PACKAGE>=LEVEL
``` 
For example, if you use Runtime Manager to add the 
`logging.level.org.mule.service.http.impl.service.HttpMessageLogger=DEBUG` property, `DEBUG` level log information is emitted from `HttpMessageLogger`.
////

